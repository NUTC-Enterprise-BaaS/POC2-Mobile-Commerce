!function(){var moduleFactory=function($){var module=this,exports=function(){function resize(){var clone=$(this).data("textareaClone");clone.find("div").text(this.value.replace(/\r\n/g,"\n")+" "),$(this).trigger("resize.expanding")}$.expandingTextarea=$.extend({autoInitialize:!0,initialSelector:"textarea.expanding",opts:{resize:function(){}}},$.expandingTextarea||{});var cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","boxSizing","webkitBoxSizing","mozBoxSizing","msBoxSizing"],textareaCSS={position:"absolute",height:"100%",resize:"none"},preCSS={visibility:"hidden",border:"0 solid",whiteSpace:"pre-wrap"},containerCSS={position:"relative"};
$.fn.expandingTextarea=function(o){var opts=$.extend({},$.expandingTextarea.opts,o);return"resize"===o?this.trigger("input.expanding"):"destroy"===o?(this.filter(".expanding-init").each(function(){var textarea=$(this).removeClass("expanding-init");textarea.attr("style",textarea.data("expanding-styles")||"").removeData("expanding-styles")}),this):(this.filter("textarea").not(".expanding-init").addClass("expanding-init").each(function(){var textarea=$(this),container=textarea.parent(),clone=$($.parseHTML("<pre class='textareaClone'><div></div></pre>"));
textarea.after(clone).data("textareaClone",clone),container.css(containerCSS),textarea.data("expanding-styles",textarea.attr("style")),textarea.css(textareaCSS),clone.css(preCSS),$.each(cloneCSSProperties,function(i,p){var val=textarea.css(p);clone.css(p)!==val&&clone.css(p,val)}),textarea.bind("input.expanding propertychange.expanding keyup.expanding",resize),resize.apply(this),opts.resize&&textarea.bind("resize.expanding",opts.resize)}),this)},$(function(){$.expandingTextarea.autoInitialize&&$($.expandingTextarea.initialSelector).expandingTextarea()
})};exports(),module.resolveWith(exports)};FD40.module("expanding",moduleFactory)}();