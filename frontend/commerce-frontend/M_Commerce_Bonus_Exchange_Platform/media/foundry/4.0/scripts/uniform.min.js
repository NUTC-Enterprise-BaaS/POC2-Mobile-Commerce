!function(){var moduleFactory=function($){var module=this,jQuery=$,exports=function(){!function($){$.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]},$.support.selectOpacity=$.browser.msie&&$.browser.version<7?!1:!0,$.fn.uniform=function(options){function doInput(elem){$el=$(elem),$el.addClass($el.attr("type")),storeElement(elem)
}function doTextarea(elem){$(elem).addClass("uniform"),storeElement(elem)}function doButton(elem){var $el=$(elem),divTag=$("<div>"),spanTag=$("<span>");divTag.addClass(options.buttonClass),options.useID&&""!=$el.attr("id")&&divTag.attr("id",options.idPrefix+"-"+$el.attr("id"));var btnText;$el.is("a")||$el.is("button")?btnText=$el.text():($el.is(":submit")||$el.is(":reset")||$el.is("input[type=button]"))&&(btnText=$el.attr("value")),btnText=""==btnText?$el.is(":reset")?"Reset":"Submit":btnText,spanTag.html(btnText),$el.css("opacity",0),$el.wrap(divTag),$el.wrap(spanTag),divTag=$el.closest("div"),spanTag=$el.closest("span"),$el.is(":disabled")&&divTag.addClass(options.disabledClass),divTag.bind({"mouseenter.uniform":function(){divTag.addClass(options.hoverClass)
},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass),divTag.removeClass(options.activeClass)},"mousedown.uniform touchbegin.uniform":function(){divTag.addClass(options.activeClass)},"mouseup.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass)},"click.uniform touchend.uniform":function(e){if($(e.target).is("span")||$(e.target).is("div"))if(elem[0].dispatchEvent){var ev=document.createEvent("MouseEvents");ev.initEvent("click",!0,!0),elem[0].dispatchEvent(ev)}else elem[0].click()
}}),elem.bind({"focus.uniform":function(){divTag.addClass(options.focusClass)},"blur.uniform":function(){divTag.removeClass(options.focusClass)}}),$.uniform.noSelect(divTag),storeElement(elem)}function doSelect(elem){var $el=$(elem),divTag=$("<div />"),spanTag=$("<span />");"none"==!$el.css("display")&&options.autoHide&&divTag.hide(),divTag.addClass(options.selectClass),options.useID&&""!=elem.attr("id")&&divTag.attr("id",options.idPrefix+"-"+elem.attr("id"));var selected=elem.find(":selected:first");0==selected.length&&(selected=elem.find("option:first")),spanTag.html(selected.html()),elem.css("opacity",0),elem.wrap(divTag),elem.before(spanTag),divTag=elem.parent("div"),spanTag=elem.siblings("span"),elem.bind({"change.uniform":function(){spanTag.text(elem.find(":selected").html()),divTag.removeClass(options.activeClass)
},"focus.uniform":function(){divTag.addClass(options.focusClass)},"blur.uniform":function(){divTag.removeClass(options.focusClass),divTag.removeClass(options.activeClass)},"mousedown.uniform touchbegin.uniform":function(){divTag.addClass(options.activeClass)},"mouseup.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass)},"click.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass)},"mouseenter.uniform":function(){divTag.addClass(options.hoverClass)},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass),divTag.removeClass(options.activeClass)
},"keyup.uniform":function(){spanTag.text(elem.find(":selected").html())}}),$(elem).prop("disabled")&&divTag.addClass(options.disabledClass),$.uniform.noSelect(spanTag),storeElement(elem)}function doCheckbox(elem){var $el=$(elem),divTag=$("<div />"),spanTag=$("<span />");"none"==!$el.css("display")&&options.autoHide&&divTag.hide(),divTag.addClass(options.checkboxClass),options.useID&&""!=elem.attr("id")&&divTag.attr("id",options.idPrefix+"-"+elem.attr("id")),$(elem).wrap(divTag),$(elem).wrap(spanTag),spanTag=elem.parent(),divTag=spanTag.parent(),$(elem).css("opacity",0).bind({"focus.uniform":function(){divTag.addClass(options.focusClass)
},"blur.uniform":function(){divTag.removeClass(options.focusClass)},"click.uniform touchend.uniform":function(){$(elem).prop("checked")?spanTag.addClass(options.checkedClass):spanTag.removeClass(options.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){divTag.addClass(options.activeClass)},"mouseup.uniform touchend.uniform":function(){divTag.removeClass(options.activeClass)},"mouseenter.uniform":function(){divTag.addClass(options.hoverClass)},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass),divTag.removeClass(options.activeClass)
}}),$(elem).prop("checked")&&spanTag.addClass(options.checkedClass),$(elem).prop("disabled")&&divTag.addClass(options.disabledClass),storeElement(elem)}function doRadio(elem){var $el=$(elem),divTag=$("<div />"),spanTag=$("<span />");"none"==!$el.css("display")&&options.autoHide&&divTag.hide(),divTag.addClass(options.radioClass),options.useID&&""!=elem.attr("id")&&divTag.attr("id",options.idPrefix+"-"+elem.attr("id")),$(elem).wrap(divTag),$(elem).wrap(spanTag),spanTag=elem.parent(),divTag=spanTag.parent(),$(elem).css("opacity",0).bind({"focus.uniform":function(){divTag.addClass(options.focusClass)
},"blur.uniform":function(){divTag.removeClass(options.focusClass)},"click.uniform touchend.uniform":function(){if($(elem).prop("checked")){var classes=options.radioClass.split(" ")[0];$("."+classes+" span."+options.checkedClass+":has([name='"+$(elem).attr("name")+"'])").removeClass(options.checkedClass),spanTag.addClass(options.checkedClass)}else spanTag.removeClass(options.checkedClass)},"mousedown.uniform touchend.uniform":function(){$(elem).is(":disabled")||divTag.addClass(options.activeClass)},"mouseup.uniform touchbegin.uniform":function(){divTag.removeClass(options.activeClass)
},"mouseenter.uniform touchend.uniform":function(){divTag.addClass(options.hoverClass)},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass),divTag.removeClass(options.activeClass)}}),$(elem).prop("checked")&&spanTag.addClass(options.checkedClass),$(elem).prop("disabled")&&divTag.addClass(options.disabledClass),storeElement(elem)}function doFile(elem){var $el=$(elem),divTag=$("<div />"),filenameTag=$("<span>"+options.fileDefaultText+"</span>"),btnTag=$("<span>"+options.fileBtnText+"</span>");
if("none"==!$el.css("display")&&options.autoHide&&divTag.hide(),divTag.addClass(options.fileClass),filenameTag.addClass(options.filenameClass),btnTag.addClass(options.fileBtnClass),options.useID&&""!=$el.attr("id")&&divTag.attr("id",options.idPrefix+"-"+$el.attr("id")),$el.wrap(divTag),$el.after(btnTag),$el.after(filenameTag),divTag=$el.closest("div"),filenameTag=$el.siblings("."+options.filenameClass),btnTag=$el.siblings("."+options.fileBtnClass),!$el.attr("size")){var divWidth=divTag.width();$el.attr("size",divWidth/10)
}var setFilename=function(){var filename=$el.val();""===filename?filename=options.fileDefaultText:(filename=filename.split(/[\/\\]+/),filename=filename[filename.length-1]),filenameTag.text(filename)};setFilename(),$el.css("opacity",0).bind({"focus.uniform":function(){divTag.addClass(options.focusClass)},"blur.uniform":function(){divTag.removeClass(options.focusClass)},"mousedown.uniform":function(){$(elem).is(":disabled")||divTag.addClass(options.activeClass)},"mouseup.uniform":function(){divTag.removeClass(options.activeClass)
},"mouseenter.uniform":function(){divTag.addClass(options.hoverClass)},"mouseleave.uniform":function(){divTag.removeClass(options.hoverClass),divTag.removeClass(options.activeClass)}}),$.browser.msie?$el.bind("click.uniform.ie7",function(){setTimeout(setFilename,0)}):$el.bind("change.uniform",setFilename),$el.prop("disabled")&&divTag.addClass(options.disabledClass),$.uniform.noSelect(filenameTag),$.uniform.noSelect(btnTag),storeElement(elem)}function storeElement(elem){elem=$(elem).get(),elem.length>1?$.each(elem,function(i,val){$.uniform.elements.push(val)
}):$.uniform.elements.push(elem)}options=$.extend($.uniform.options,options);var el=this;return 0!=options.resetSelector&&$(options.resetSelector).mouseup(function(){function resetThis(){$.uniform.update(el)}setTimeout(resetThis,10)}),$.uniform.restore=function(elem){void 0==elem&&(elem=$($.uniform.elements)),$(elem).each(function(){$(this).is(":checkbox")?$(this).unwrap().unwrap():$(this).is("select")?($(this).siblings("span").remove(),$(this).unwrap()):$(this).is(":radio")?$(this).unwrap().unwrap():$(this).is(":file")?($(this).siblings("span").remove(),$(this).unwrap()):$(this).is("button, :submit, :reset, a, input[type='button']")&&$(this).unwrap().unwrap(),$(this).unbind(".uniform"),$(this).css("opacity","1");
var index=$.inArray($(elem),$.uniform.elements);$.uniform.elements.splice(index,1)})},$.uniform.noSelect=function(elem){function f(){return!1}$(elem).each(function(){this.onselectstart=this.ondragstart=f,$(this).mousedown(f).css({MozUserSelect:"none"})})},$.uniform.update=function(elem){void 0==elem&&(elem=$($.uniform.elements)),elem=$(elem),elem.each(function(){var $e=$(this);if($e.is("select")){var spanTag=$e.siblings("span"),divTag=$e.parent("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),spanTag.html($e.find(":selected").html()),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass)
}else if($e.is(":checkbox")){var spanTag=$e.closest("span"),divTag=$e.closest("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),spanTag.removeClass(options.checkedClass),$e.is(":checked")&&spanTag.addClass(options.checkedClass),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass)}else if($e.is(":radio")){var spanTag=$e.closest("span"),divTag=$e.closest("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),spanTag.removeClass(options.checkedClass),$e.is(":checked")&&spanTag.addClass(options.checkedClass),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass)
}else if($e.is(":file")){var divTag=$e.parent("div"),filenameTag=$e.siblings(options.filenameClass);btnTag=$e.siblings(options.fileBtnClass),divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),filenameTag.text($e.val()),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass)}else if($e.is(":submit")||$e.is(":reset")||$e.is("button")||$e.is("a")||elem.is("input[type=button]")){var divTag=$e.closest("div");divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass)
}})},this.each(function(){if($.support.selectOpacity){var elem=$(this);elem.is("select")?1!=elem.attr("multiple")&&(void 0==elem.attr("size")||elem.attr("size")<=1)&&doSelect(elem):elem.is(":checkbox")?doCheckbox(elem):elem.is(":radio")?doRadio(elem):elem.is(":file")?doFile(elem):elem.is(":text, :password, input[type='email']")?doInput(elem):elem.is("textarea")?doTextarea(elem):(elem.is("a")||elem.is(":submit")||elem.is(":reset")||elem.is("button")||elem.is("input[type=button]"))&&doButton(elem)}})}}(jQuery)
};exports(),module.resolveWith(exports)};FD40.module("uniform",moduleFactory)}();