/**
* @package 		EasySocial
* @copyright	Copyright (C) 2010 - 2014 Stack Ideas Sdn Bhd. All rights reserved.
* @license 		Proprietary Use License http://stackideas.com/licensing.html
* @author 		Stack Ideas Sdn Bhd
**/

.es-story {
	.es-album-view {
		.es-album-content {
			max-height: none;
			min-height: 80px;
			margin-bottom: 0px;
		}
		.es-photo {
			width: 100%;
			height: 100%;
			position: absolute;
			display: block;

			> a {
				padding: 0;
				width: 100%;
				height: 100%;
				position: absolute;
				display: block;
			}
		}
		.es-photo-item {
			width: 100px;
			height: 80px;
			margin: 5px;
			border-radius: 3px;
			background: @esAlbumPhotoBackground;
			overflow: hidden;
			float: left;

			.es-photo-image {
				width: 100px;
				height: 80px;
				background-size: cover;
				background-color: transparent;
				background-repeat: no-repeat;
				position: relative;
				z-index: 1;
				border-radius: 3px;
				overflow: hidden;

				text-align: center;
				position: relative;

				&:before {
				   content: '';
				   display: inline-block;
				   height: 100%;
				   vertical-align: middle;
				   margin-right: -0.25em; // TODO: Find out the actual value
				}

				> span {
					background-size: cover;
					background-position: top left;
					background-repeat: no-repeat;
					display: block;
					position: absolute;
					width: 100%;
					height: 100%;
					top: 0;
					left: 0;
				}

				> img {
					position: absolute;
					width: 100%;
					height: 100%;
					opacity: 0;
				}

		         &.is-small {

					> img {
						position: relative;
						display: inline-block;
						vertical-align: middle;
						max-width: 100%;
						max-height: 100%;
						width: auto;
						height: auto;
						opacity: 1;
					}

					> span {
						display: none;
					}
				}
			}

			&:hover {
				background: @esAlbumPhotoHoverBackground;

				.es-photo-remove-button {
					bottom: 0;
				}
			}
		}

		.es-photo-remove-button {
			.transition(all .2s ease);
			position: absolute;
			z-index: 2;
			width: 100%;
			padding: 0 5px;
			background: @esAlbumPhotoRemoveButtonBackground;
			cursor: pointer;
			height: 25px;
			line-height: 25px;
			bottom: -25px;
			text-align: center;
			color: @esAlbumPhotoRemoveButtonColor;
			font-size: @baseFontSize;
			text-shadow: @esAlbumPhotoRemoveButtonTextShadow;

			> i {
			    font-size: @fontSizeSmall;
			    margin-left: -2px;
			}
		}

		.es-photo-upload-item {

			> div,
			> div > div {
				width: 100%;
				height: 100%;
			}

			background-color: @esAlbumPhotoBackground;
			border-radius: 3px;

			table {
				border: none;
			}

			.upload-remove-button {
				display: none;
			}

			&:hover {
				.upload-remove-button {
					display: block;
				}
			}

			.upload-percentage {
				line-height: 18px;
			}
		}

		.es-album-upload-button {
			background: @esAlbumPhotoUploadButtonBackground;
			height: 80px;
			border-radius: 3px;

			position: relative;
			z-index: 0;
			text-align: center;
			cursor: pointer;

			&:hover {
				background: @esAlbumPhotoUploadButtonHoverBackground;
				> span {
					color: @esAlbumPhotoUploadButtonHoverColor;
				}
			}


			// add/drop hint
			> span {
				position: relative;
				line-height: 80px;
				color: @esAlbumPhotoHintColor;
				cursor: pointer;

				b {
					position: relative;
					left: -5px;
				}

				i {
					position: relative;
					top: 2px;
					left: -5px;
				}
			}
		}

		.add-hint {
			display: block;

		}
		.drop-hint {
			display: none;
		}

		&.has-photos {

			margin-bottom: -5px;
			margin-top: -5px;
			margin-left: -5px;

			.es-album-upload-button {
				float: left;
				margin: 5px;
				padding: 0 10px 0 25px;
			}

			&.can-drop-file {
				.add-hint {
					display: block;
				}
				.drop-hint {
					display: none;
				}
			}
		}

		&.can-drop-file {
			.add-hint {
				display: none;
			}
			.drop-hint {
				display: block;
			}
		}

		// Fixes IE10
		.plupload {
			> input {
				height: 100% !important;
			}
		}
	}

	.es-photo-upload-item {

		.upload-title,
		.upload-filename,
		.upload-filesize {
			display: none;
		}
	}
}
