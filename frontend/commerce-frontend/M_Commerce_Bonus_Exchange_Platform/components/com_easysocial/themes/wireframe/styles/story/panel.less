/**
* @package 		EasySocial
* @copyright	Copyright (C) 2010 - 2014 Stack Ideas Sdn Bhd. All rights reserved.
* @license 		Proprietary Use License http://stackideas.com/licensing.html
* @author 		Stack Ideas Sdn Bhd
**/

.es-story-panel-buttons {

	.clearfix();
	position: relative;
	z-index: 2;
	color: @esStoryPanelButtonColor;
	border-bottom: 1px solid @esStoryBorder;
}

.es-story-panel-button {
	position: relative;
	padding: 10px 14px;
	cursor: pointer;
	display: inline-block;
	font-size: 14px;

	i {
		line-height: 17px; // for non html5 doctype
	}

	span {
		display: none;
	}
	&.active {
		color: @esStoryPanelButtonActiveColor;

	    &:hover {
	        color: @esStoryPanelButtonActiveColor;
	    }

		&:before,
		&:after {
			content: "";
			position: absolute;
			width: 0;
			height: 0;
			display: inline-block;
		}

		&:before {
			border-left: 7px solid transparent;
			border-right: 7px solid transparent;
			border-bottom: 7px solid @esBorder;
			bottom: -1px;
			margin-left: -7px;
			left: 50%;
		}

		&:after {
			border-left: 6px solid transparent;
			border-right: 6px solid transparent;
			border-bottom: 6px solid @esStoryPanelContentBackground;
			bottom: -1px;
			margin-left: -6px;
			left: 50%;
		}
	}

    &:hover {
        color: @esStoryPanelButtonHoverColor;
    }
}


.es-story-panel-contents {
	.clearfix();
	.transition(all .3s ease);
	padding: 0;
	margin: 0;
	max-height: 0px;
	overflow: hidden;
	// opacity: 0;
	position: relative;
	z-index: 1;

	&.active {
		max-height: 500px;
		// opacity: 1;
		overflow: visible;
	}

	.es-story-panel-content {
		.transition(all .3s ease);
		position: relative;
		overflow: hidden;
		max-height: 0px;
		// opacity: 0;
		z-index: 1;
		color: @esStoryPanelContentColor;

		input[type="text"] {
			background: @esStoryPanelContentBackground;
			color: @esStoryPanelContentColor;
		}

		&.active {
			padding: 10px;
			padding-top: 0px; // Using 10px from textfield
			background: @esStoryPanelContentBackground;
			// border-top: 1px dashed @esBorder;
			// border-bottom: 1px dashed #d7d7d7;
			max-height: 500px;
			// opacity: 1;
			z-index: 2;
			overflow-y: auto; // #2516
		}
	}
}

.es-story-panel-dropdown {
	display: inline-block;
}
.es-story-panel-dropdown-toggle {
	display: inline-block;
	width: 34px;
	text-align: center;
	padding: 10px 0;
	color: @esStoryPanelButtonColor;
}



.es-story-panel-dropdown-menu {
	left: auto;
	right: 0;
	min-width: 130px;
	width: 130px;
}


.es-story-panel-dropdown {
	position: absolute;
	right: 0;
	display: none;
}

.open {
	.es-story-panel-dropdown-toggle {
		color: @esStoryPanelButtonActiveColor;
	}
}


&.w320 {
	.es-story-panel-buttons {
		padding-right: 36px;
	}

	.es-story-panel-button {
		float: left;
		padding-left: 15px;
		padding-right: 0;

		i, span {
			display: table-cell;
		}

		span {
			padding: 0 0 0 5px;
			font-size: 12px;
			font-weight: bold;
		}
	}

	.es-story-panel-dropdown {
		display: block;
	}

	.es-story-panel-dropdown-menu {
		* {
			font-size: 12px !important;
		}
		.es-story-panel-button {
			width: 100%;
		}
	}

	// Main panel buttons.
	// Show first 4 buttons.

	.es-story-panel-buttons {
		.es-story-panel-button {
			display: none;

			&:nth-child(-n+3) {
				display: inline-block;
			}
		}
	}

	// Additional panel buttons in dropdown.
	// Hide first 3 buttons.
	.es-story-panel-dropdown {
		.es-story-panel-button {
			display: inline-block;

			&:before {
				display: none;
			}
		}
		.es-story-panel-button:nth-child(-n+2) {
			display: none;
		}
	}
}























