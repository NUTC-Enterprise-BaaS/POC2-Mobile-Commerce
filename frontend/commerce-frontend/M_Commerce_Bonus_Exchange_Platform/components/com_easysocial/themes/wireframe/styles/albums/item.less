// Controls how sub-elements look like when placed under album item
.es-album-item {

	> form {
		position: relative;
		z-index: 9;
	}

	&.layout-item {

		.es-album-form {
			display: none;
		}

		.es-album-more-button {
			font-size: 12px;
			position: relative;

			&.loading {
				height: 32px;
				line-height: 32px;

				i.loading-indicator {
					display: block;
				}

				.loadmore-text {
					display: none;
				}
			}

			.loadmore-text {
				display: block;
			}
		}
	}

	//view=albums
	&.layout-thumbnail {
		width: 30%;
		height: 160px;
		margin-bottom: 10px;
		margin-right: 2%;
		display: inline-block;
		cursor: pointer;

		.es-album-owner,
		.es-avatar,
		.es-media-caption,
		.es-album-cover b {
			display: none;
		}
		.es-media-header {
			height: 180px;
			position: relative;
			.media {
				position: absolute;
				right: 5px;
				top: 5px;
				border: none;
			}
		}
		.es-album-info {
			> div {
				position: absolute;
				width: 100%;
				bottom: -142px;
				left: 0;
				padding: 10px 10px 22px;
				color: white;
				font-size: 13px;
				border-top: none;
				line-height: 16px;
				.text-overflow();
				#gradient > .vertical(rgba(0, 0, 0, 0), rgba(0, 0, 0, 1));

			}
			> small {
				position: absolute;
				top: 140px;
				margin: 0;
			}
		}
		.es-album-menu {
			display: none;
			.transition(opacity .3s ease-in-out);
			.opacity(0);
			.btn-group {
				+ .btn-group {
					display: none;
				}
			}
		}
		&:hover {
			.es-album-menu-item {
				// display: block;
				.transition(opacity .3s ease-in-out);
				.opacity(1);
			}
		}
		.es-media-info {
			padding: 10px;
		}
		.es-album-form {
			display: none;
		}
		.es-album-cover {
			height: 160px;
			background-color: @esAlbumCoverBackground;
		}
		[data-item-actions-menu] > a > span {
			display: none;
		}

		.loading-indicator {
			display: none;
		}
	}
	&.layout-row {
		position: relative;
		border: 1px solid @esAlbumsBorder;
		border-radius: 3px;
		transform: translateZ(0);
		background: @esAlbumsBackground;
		margin-top: 15px;
		.getContrast(@esAlbumsBackground);

		&:first-child {
			margin-top: 0;
		}

		.es-media-loader {
			border-radius: 5px;
		}

		// layout
		.es-album-header {
			margin: 0;
			z-index: 1;
			position: relative;
		}
		.es-album-content {
			position: relative;
			z-index: 2;
			max-height: none;
			overflow: visible;
			margin: 0;
			margin-left: 20px;
			margin-right: 20px;
			margin-top: (64 + 20) * -1px;
			margin-bottom: 20px;
			.clearfix();

			> i.loading-indicator {
				display: none;
			}
		}
		.es-album-footer {
			position: relative;
			z-index: 3;
			background: @esAlbumsBackground;
			margin: 20px;
			border-top: 1px solid @esAlbumsFooterBorder;
			display: block;
			width: auto;
			padding-top: 20px;
		}
		.content-hint {
			font-size: 13px;
    		padding: 32px 0;
		}

		//elements
		.media,
		.plupload,
		.es-media-title.es-photo-title {
			display: none;
		}
		.es-album-info {
			overflow: hidden;
			padding: 0 20px;
			padding-bottom: 20px + 64px + 20px;
			border-radius: 5px;
		}
		.es-album-form {
			display: none;
		}
		.es-album-title {
			padding-top: 20px;
			font-size: 18px;
			line-height: 18px;
			.text-overflow();
		}
		.es-album-cover {
			.opacity(.5);
			// width: 110%;
			// .transition(all 0.5s ease);
			transform: translateZ(0);
		}
		&:hover {
			.es-album-cover {
				// .opacity(1);
				// width: 130%;

				// > b {
				// 	left: -20%;
				// 	width: 150%;
				// 	.transition(all 0.5s ease);
				// }
			}
		}
		.es-album-taglist {
			> div {
				font-size: @baseFontSize;
				line-height: 11px;
				font-weight: bold;
				color: #595959;
				margin-bottom: 8px;
			}
			> ul {
				padding-top: 4px;
				height: 28px;
				overflow: hidden;
				margin: 0;
			}

			> span {
				display: inline-block;
				line-height: 28px;
				.text-overflow();
				width: 100%;
			}
		}
		.es-avatar {
			background: none;
		}


		.es-photo-item-group {
			.clearfix();
		}

		// albums photos
		.es-photo-item {
			width: 64px;
			height: 64px;
			float: left;
			display: inline-block;
			margin-right: 2px;
			margin-bottom: 2px;
			.es-photo-header,
			.es-photo-footer {
				display: none;
			}
			.es-photo-content {
				// border-radius: 3px;
				.es-photo-image {
					height: 64px;
					background-size: cover;
					// border-radius: 3px;
				}
			}
		}

		.es-photo {
			> a {
				padding-top: (1/1) * 100%;
			}
		}

		.es-media-stats {
			border: none;
			width: 35%;
			float: right;
			margin: 0;
			position: relative;
		}

		.es-media-stat {
			padding: 0 5px;
			font-size: 12px;
			width: 50%;
			text-align: right;

			> b {
				font-size: @baseFontSize;
				line-height: 11px;
				font-weight: bold;
				margin-bottom: 8px;
				color: #595959;
				padding: 0;
				.text-overflow();
			}

			> span {
				font-size: 22px;
				line-height: 28px;
				color: #999;
				width: 100%;
				display: inline-block;
				.text-overflow();
			}

			&.stat-tag {
				display: none;
			}
		}

		.es-album-interaction {

			.es-album-showresponse {
				display: none;
			}

			.es-album-showtag {
				width: auto;
				float: none;
				margin: 0;
				width: 65%;
				overflow: hidden;
				padding-left: 0px;
			}
		}

		.es-album-view-button {
			display: inline-block;
			width: auto;
			margin-top: 10px;
			padding: 0;
			font-weight: bold;
			padding: 8px 10px;

			> i {
				font-size: @fontSizeSmall;
			}
		}
	}//layout-row


	&.layout-form {
		.es-album-info {
			display: none;
		}
		.es-photo-item-group {
			.clearfix();
		}
		.es-album-menu-item {
			display: none;
		}

		.es-album-menu-form {
			display: block;
		}

		.es-album-footer {
			display: none;
		}

		.es-media-item-menu {
			li.view-item {
				display: none;
			}

			li.view-form {
				display: block;
			}
		}
	}

	&.layout-dialog {

		.es-album-header,
		.es-album-footer {
			display: none;
		}

		.es-album-content {
			margin: 0 auto;
			width: 540px; /* Divisible by 5 left sidebar 220px now */ 
		}

		.es-album-form {
			display: none;
		}
		.es-photo-item-group {
			.clearfix();
		}

		.plupload {
			display: none;
		}
	}

	.es-privacy {
		display: inline-block;
	}
}


@import "albums/item/photo.item";

.es-album-content {
	margin-bottom: 10px;
}

.es-album-footer {
	// This ensure that floated list on the sidebar
	// won't push the footer contents below it.
	display: table;
	width: 100%;
	.es-comments-wrap {
		.btn-es {
			padding: 4px 12px;
		}
	}
}

.es-album-info {

	// Push contents above album cover
	> div {
		position: relative;
		z-index: 2;
	}

	> small {
		z-index: 2;
	}
}

.es-album-location {

	> u {
		text-decoration: none;
		border-bottom: 1px dotted #ccc;
	}
}

.es-album-title {
	text-shadow: @esAlbumsTitleTextShadow;
}

.es-album-caption {
    text-shadow: @esAlbumsTitleTextShadow;
    width: 80%;
}

.es-album-cover {
	background-size: cover;
	background-position: 50% 50%;
	background-repeat: no-repeat;

	position: absolute;
	width: 100%;
	height: 100%;
	top: 0;
	left: 0;

	z-index: 1;

	b {
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		.box-shadow(200px -30px 100px @esAlbumsCoverGradientShadowBackground inset);
		#gradient > .vertical(@esAlbumsCoverGradientBackground, @esAlbumsCoverGradientBackgroundHighlight);

		+ b {
			right: 0;
			.box-shadow(-100px -50px 50px @esAlbumsCoverGradientShadowBackground inset);
			display: none;
		}
	}
}

.es-album-menu-form {
	display: none;
}

.es-album-more-button {
	margin-top: 10px;
	padding: 8px;
    background-color: @esAlbumMoreButtonBackground;
    display: none;

	> i {
		font-size: @fontSizeSmall;
	}
}

.es-album-taglist {
	> div {
		font-weight: bold;
		line-height: 24px;
	}

	> span {
		color: #999;
	}
}

.btn-album-favourite {
	&.is-fav {
		i {
			color: #F0AC3F;
		}
	}
	&:hover {
		border-color: @btnEsPrimaryBorder !important;
	}
}

// Responsive
&.w480 {
	.es-album-item {
		&.layout-row {
			.es-media-stats {
				float: none;
				width: 100%;
				margin-bottom: 20px;
			}
			.es-media-stat {
				padding: 0 5px;
				font-size: 12px;
				width: 50%;
				text-align: center;
			}
		}
		// Responsive

	}//album-item
}
&.w480 {
	.es-album-item {
		.es-photo-item {
			&.layout-form {
                width: 100%;
                height: auto;
                float: none;
                background-color: darken(@esBackground, 3%);
                margin-bottom: 30px;

				.es-photo-form-fields {
					padding-right: 10px;
				}
				.es-photo-content {

                    background-color: darken(@esBackground, 3%);
					.es-photo-image {
						margin: 0 auto;
                        background-color: rgba(255, 255, 255, 0.5);
					}
				}
                .es-photo-header {
                    .es-photo-menu-form {
                        display: block;
                        position: absolute;
                        top: -190px;
                        right: 0;
                    }
                }
			}
		}
	}
}
